name: Validate Code

on:
  pull_request:
  push:
    branches: [main, master]

jobs:
  lint-shell:
    name: Lint Shell Scripts
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/grumps/claude-dotfiles:master
    steps:
      - uses: actions/checkout@v4

      - name: Run shell validation
        run: just lint-shell

  lint-python:
    name: Lint Python Scripts
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/grumps/claude-dotfiles:master
    steps:
      - uses: actions/checkout@v4

      - name: Run Python validation
        run: just lint-python
